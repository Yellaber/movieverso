<section class="flex justify-center items-center py-5">
  <form [formGroup]="signUpForm" class="w-lg border-1 border-stone-500 rounded-sm px-5 py-10">
    <div class="flex flex-col md:flex-row gap-5 mb-5">
      <div class="flex flex-col w-full">
        <label for="name" class="block text-xs lg:text-sm text-stone-300 mb-2">Nombre</label>
        <input formControlName="name" type="text" id="name" class="bg-stone-50 text-stone-900 text-xs lg:text-sm rounded-sm focus:outline-none w-full p-2.5" required />
        @if(this.isValidField('name')) {
          <small class="text-red-400 mt-2">El nombre es obligatorio y debe tener al menos 2 caracteres.</small>
        }
      </div>
      <div class="flex flex-col w-full">
        <label for="last-name" class="block text-xs lg:text-sm text-stone-300 mb-2">Apellidos</label>
        <input formControlName="lastName" type="text" id="last-name" class="bg-stone-50 text-stone-900 text-xs lg:text-sm rounded-sm focus:outline-none w-full p-2.5" required />
        @if(this.isValidField('lastName')) {
          <small class="text-red-400 mt-2">El apellido es obligatorio y debe tener al menos 2 caracteres.</small>
        }
      </div>
    </div>
    <div class="w-full mb-5">
      <label for="email" class="block text-xs lg:text-sm text-stone-300 mb-2">Email</label>
      <input formControlName="email" type="email" id="email" class="bg-stone-50 text-stone-900 text-xs lg:text-sm rounded-sm focus:outline-none w-full p-2.5" required />
      @if(this.isValidField('email')) {
        <small class="text-red-400 mt-2">El email no tiene un formato válido.</small>
      }
    </div>
    <div class="flex flex-col md:flex-row gap-5 mb-5">
      <div class="w-full">
        <label for="password" class="block text-xs lg:text-sm text-stone-300 mb-2">Contraseña</label>
        <div class="flex bg-stone-50 rounded-sm border border-stone-300">
          <input formControlName="password" [type]="typeInPassword()" id="password" class="bg-stone-50 text-stone-900 text-xs lg:text-sm rounded-sm rounded-s-sm focus:outline-none w-full p-2.5" required />
          <button type="button" class="flex items-center bg-stone-300 hover:cursor-pointer p-3" (click)="onHideField('password')">
            @if(isHiddenPassword()) {
              <svg class="w-3 h-3 lg:w-4 lg:h-4 text-stone-600" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 576 512">
                <path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"/>
              </svg>
            } @else {
              <svg class="w-3 h-3 lg:w-4 lg:h-4 text-stone-600" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 640 512">
                <path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"/>
              </svg>
            }
          </button>
        </div>
        @if(this.isValidField('password')) {
          <small class="text-red-400 mt-2">La contraseña debe tener al menos 8 caracteres, incluyendo mayúsculas, minúsculas, números y un caracter especial.</small>
        }
      </div>
      <div class="w-full">
        <label for="repeat-password" class="block text-xs lg:text-sm text-stone-300 mb-2">Repetir contraseña</label>
        <div class="flex bg-stone-50 rounded-sm border border-stone-300">
          <input formControlName="repeatPassword" [type]="typeInRepeatPassword()" id="repeat-password" class="bg-stone-50 text-stone-900 text-xs lg:text-sm rounded-sm rounded-s-sm focus:outline-none w-full p-2.5" required />
          <button type="button" class="flex items-center bg-stone-300 hover:cursor-pointer p-3" (click)="onHideField('repeatPassword')">
            @if(isHiddenRepeatPassword()) {
              <svg class="w-3 h-3 lg:w-4 lg:h-4 text-stone-600" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 576 512">
                <path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"/>
              </svg>
            } @else {
              <svg class="w-3 h-3 lg:w-4 lg:h-4 text-stone-600" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 640 512">
                <path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"/>
              </svg>
            }
          </button>
        </div>
        @if(this.passwordsMatch()) {
          <small class="text-red-400 mt-2">Las contraseñas no coinciden.</small>
        }
      </div>
    </div>
    <div class="flex flex-col items-center mb-5">
      <div class="flex gap-2">
        <div class="h-5">
          <input formControlName="agree" id="agree" type="checkbox" checked class="w-4 h-4 border border-stone-300 rounded-sm bg-stone-50 focus:outline-none" required />
        </div>
        <small class="text-stone-300">He leído y acepto la <a class="text-yellow-600 underline" routerLink="/politica-de-privacidad" target="_blank">política de privacidad</a> y los <a class="text-yellow-600 underline" routerLink="/terminos-y-condiciones" target="_blank">términos y condiciones</a> del sitio.</small>
      </div>
      @if(this.isValidField('agree')) {
        <small class="text-red-400 mt-2">Debes aceptar nuestra pólítica de privacidad y los términos y condiciones para continuar.</small>
      }
    </div>
    <button type="submit" [disabled]="signUpForm.invalid" class="text-stone-900 font-semibold bg-yellow-600 focus:outline-none hover:cursor-pointer disabled:bg-stone-500 disabled:cursor-not-allowed rounded-sm text-xs lg:text-sm text-center w-full px-3 py-2">Registrar</button>
    <div class="flex justify-between mt-5">
      <small class="text-stone-300">¿Ya tienes una cuenta?</small>
      <small class="text-yellow-600"><a class="underline"
      routerLink="/auth/iniciar-sesion">Inicia sesión aquí</a></small>
    </div>
  </form>
</section>
