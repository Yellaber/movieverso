<section class="flex flex-col h-100 overflow-y-auto gap-8 p-6">
  <filter-genre [(genresIdSelected)]="withGenres"/>
  <form class="flex flex-col w-full gap-8" autocomplete="off" [formGroup]="form" (ngSubmit)="isInvalid()">
    <div class="flex flex-col gap-3">
      <div class="flex justify-between items-center gap-4">
        <label class="text-sm font-bold">{{ 'filter.voteAverageLabel' | translate }}</label>
        <div class="rounded-md bg-stone-700 px-3 py-1">
          <rating type="vote_average" [value]="form.controls['voteAverageMinimum'].value"/>
        </div>
      </div>
      <input type="range" min="0" max="10" step="0" formControlName="voteAverageMinimum"
      class="w-full h-2 bg-stone-400 rounded-md appearance-none cursor-pointer accent-yellow-600">
    </div>
    <div class="flex flex-col gap-3">
      <label class="text-sm font-bold">{{ 'filter.voteCountLabel' | translate }}</label>
      <input type="number" formControlName="voteMinimum" class="w-full h-8 bg-stone-100 text-xs lg:text-sm rounded-full outline-0 px-4"
      [placeholder]="'filter.message.placeholder' | translate">
      @if(formUtils.isValidField(form, 'voteMinimum')) {
        <small class="text-xs text-red-700">{{ 'filter.message.value' | translate }}</small>
      }
    </div>
    <div class="flex flex-col lg:flex-row gap-8">
      <div class="flex flex-col w-full lg:w-1/2 gap-3">
        <label class="text-sm font-bold">{{ 'filter.releaseDateGteLabel' | translate }}</label>
        <input type="date" formControlName="primaryReleaseDateGte" class="w-full h-8 bg-stone-100 text-xs lg:text-sm rounded-full outline-0 px-4">
        @if(formUtils.isValidField(form, 'primaryReleaseDateGte')) {
          <small class="text-xs text-red-700">{{ 'filter.message.invalidDate' | translate }}</small>
        }
      </div>
      <div class="flex flex-col w-full lg:w-1/2 gap-3">
        <label class="text-sm font-bold">{{ 'filter.releaseDateLteLabel' | translate }}</label>
        <input type="date" formControlName="primaryReleaseDateLte" class="w-full h-8 bg-stone-100 text-xs lg:text-sm rounded-full outline-0 px-4">
        @if(formUtils.isValidField(form, 'primaryReleaseDateLte')) {
          <small class="text-xs text-red-700">{{ 'filter.message.invalidDate' | translate }}</small>
        }
      </div>
    </div>
    @if(form.errors) {
      <div class="flex flex-col">
        <small class="text-xs text-red-700">{{ 'filter.message.invalidForm' | translate }}</small>
      </div>
    }
  </form>
  <filter-sort-by [(selectedOption)]="sortBy"/>
</section>
<section class="flex bg-yellow-600 text-stone-900 font-bold rounded-b-md divide-x-2 divide-stone-900">
  <button class="w-1/2 text-xs md:text-sm rounded-bl-md cursor-pointer py-3" (click)="onReset()">
    {{ 'filter.button.reset' | translate }}
  </button>
  <button type="submit" class="w-1/2 text-xs md:text-sm rounded-br-md cursor-pointer disabled:bg-stone-500 disabled:cursor-not-allowed py-3"
  [disabled]="isInvalid()" (click)="onShowResults()">
    {{ 'filter.button.show' | translate }}
  </button>
</section>
